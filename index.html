<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Validation</title>
    <script>
        function validate() {
            var username = document.getElementById("username");
            var email = document.getElementById("email");
            var password = document.getElementById("password");
            var cpassword = document.getElementById("cpassword");
            var phone = document.getElementById("phone");

            var usernameError = document.getElementById("usernameError");
            var emailError = document.getElementById("emailError");
            var passwordError = document.getElementById("passwordError");
            var cpasswordError = document.getElementById("cpasswordError");
            var phoneError = document.getElementById("phoneError");

            var passwordRegex = /^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/; 
            var phoneRegex = /^\d{10}$/;

            var isValid = true;

            if (username.value == "") {
                usernameError.textContent = "Must have a username";
                username.focus();
                isValid = false;
            } else if (username.value.length < 5) {
                usernameError.textContent = "Username must be at least 5 characters long";
                username.focus();
                isValid = false;
            } else {
                usernameError.textContent = ""; 
            }

            if (email.value == "") {
                emailError.textContent = "Must have an email";
                email.focus();
                isValid = false;
            } else {
                emailError.textContent = ""; 
            }

            if (password.value == "") {
                passwordError.textContent = "Must have a password";
                password.focus();
                isValid = false;
            } else if (!passwordRegex.test(password.value)) {
                passwordError.textContent = "Password must be at least 8 characters long, and include at least one uppercase letter, one special character, and one number";
                password.focus();
                isValid = false;
            } else {
                passwordError.textContent = ""; 
            }

            if (cpassword.value == "") {
                cpasswordError.textContent = "Must have confirm your password";
                cpassword.focus();
                isValid = false;
            } else if (cpassword.value != password.value) {
                cpasswordError.textContent = "Passwords do not match";
                cpassword.focus();
                isValid = false;
            } else {
                cpasswordError.textContent = ""; 
            }

            if (phone.value != "" && !phoneRegex.test(phone.value)) {
                phoneError.textContent = "Phone number must be a valid 10-digit number";
                phone.focus();
                isValid = false;
            } else {
                phoneError.textContent = ""; 
            }

            return isValid;
        }
    </script>
</head>
<body>
    <link rel="stylesheet" href="style.css">
    
    <form action="" name="form1" method="post" onsubmit="return validate()">
       
        <h1>Registration Form</h1>
        <label for="username">Username:</label>
        <input type="text" name="username" id="username">
        <span id="usernameError" class="error"></span><br><br>

        <label for="email">Email:</label>
        <input type="email" name="email" id="email">
        <span id="emailError" class="error"></span><br><br>

        <label for="password">Password:</label>
        <input type="password" name="password" id="password">
        <span id="passwordError" class="error"></span><br><br>

        <label for="cpassword">Confirm Password:</label>
        <input type="password" name="cpassword" id="cpassword">
        <span id="cpasswordError" class="error"></span><br><br>
        
        <label for="phone">Phone Number (optional):</label>
        <input type="text" name="phone" id="phone">
        <span id="phoneError" class="error"></span><br><br>
        
        <input type="submit" value="Submit">
    </form>
</body>
</html>
